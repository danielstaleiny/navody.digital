<%# todo "external URL" for preview of the form before submitting %>
<%= form_for @form, url: root_path do |f| %>

  <%#  todo this will be appended XML by JS %>
  <%= f.hidden_field :form, value: nil %>
  <%= f.hidden_field :callback_url, value: apps_business_register_app_callback_url %>

  <%= f.hidden_field :recipient_uri %>
  <%= f.hidden_field :posp_version %>
  <%= f.hidden_field :posp_id %>
  <%= f.hidden_field :message_type %>
  <%= f.hidden_field :message_subject %>
  <%= f.submit 'Submit' %>
<% end %>

<%= form_for :acts_submission, url: apps_business_register_app_search_acts_path do |f| %>
  <%= f.text_field :email %>

  <%# JS fetch of businesses - http://localhost:3000/aplikacie/obchodny-register/search_business?q=<business-name> %>
  <%= f.text_field :business %>
  <%= f.hidden_field :business_name %>
  <%= f.hidden_field :business_ico %>
  <%= f.hidden_field :business_address %>

  <%# JS fetch of acts for business - http://localhost:3000/aplikacie/obchodny-register/search_acts?ico=46792511 %>
  <%= f.fields_for :acts, OpenStruct.new({ make_copy: true, code: '1', name: 'Listina 1' }) do |ff| %>
    <%= ff.text_field :name, disabled: true %>
    <%= ff.text_field :code, disabled: true %>
    <%= ff.check_box :make_copy %>
  <% end %>

<% end %>
